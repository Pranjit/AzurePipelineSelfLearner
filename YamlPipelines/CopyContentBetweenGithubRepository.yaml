#Defines branches or paths that trigger the pipeline.
trigger : 
   - none

#Specifies where jobs run (Microsoft-hosted or self-hosted agents). Here we used selfhosted agent.   
pool:
  name: 'Selfhosted'

resources:
  repositories:
    # Source repository
    - repository: AzurePipelineSelfLearner
      type: github
      name: pranjit/AzurePipelineSelfLearner
      endpoint: AzurePipelineUnivercity 
   
    # Destination repository
    - repository: OnlineResources
      type: github
      name: pranjit/OnlineResources
      endpoint: AzurePipelineUnivercity 

#The smallest unit of execution like scripts or predefined tasks.
steps:
 # Step 1: Checkout source repo
   - checkout: AzurePipelineSelfLearner
     persistCredentials: true
     clean: true

  # Step 2: Checkout destination repo
  - checkout: OnlineResources
    persistCredentials: true
    clean: true

  # Step 3: Copy file using Windows PowerShell
  - powershell: |
      Write-Host "Copying file from SourceRepo to DestinationRepo..."
      Copy-Item -Path "AzurePipelineSelfLearner\Resources\test.txt" -Destination "OnlineResources\FileUpload\" -Force
    displayName: "Copy File to Destination Repo"

  

